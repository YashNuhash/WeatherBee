(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();const w={light:`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M5 11.4597C5 15.6241 8.4742 19 12.7598 19C16.0591 19 18.8774 16.9993 20 14.1783C19.1109 14.5841 18.1181 14.8109 17.0709 14.8109C13.2614 14.8109 10.1732 11.8101 10.1732 8.1084C10.1732 6.56025 10.7134 5.13471 11.6205 4C7.87502 4.5355 5 7.67132 5 11.4597Z"
      stroke="#0F172A"
      stroke-width="1.5"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
  `,dark:`
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z"
      stroke="#0F172A"
      stroke-width="1.5"
    />
  
    <path
      d="M18.3117 5.68834L18.4286 5.57143M5.57144 18.4286L5.68832 18.3117M12 3.07394V3M12 21V20.9261M3.07394 12H3M21 12H20.9261M5.68831 5.68834L5.5714 5.57143M18.4286 18.4286L18.3117 18.3117"
      stroke="#0F172A"
      stroke-width="1.5"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
  `,favicon:{light:"src/img/favicon-dark.ico",dark:"src/img/favicon-light.ico"},alert:`
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  
    <path
      d="M3.35288 8.95043C4.00437 6.17301 6.17301 4.00437 8.95043 3.35288C10.9563 2.88237 13.0437 2.88237 15.0496 3.35288C17.827 4.00437 19.9956 6.17301 20.6471 8.95043C21.1176 10.9563 21.1176 13.0437 20.6471 15.0496C19.9956 17.827 17.827 19.9956 15.0496 20.6471C13.0437 21.1176 10.9563 21.1176 8.95044 20.6471C6.17301 19.9956 4.00437 17.827 3.35288 15.0496C2.88237 13.0437 2.88237 10.9563 3.35288 8.95043Z"
      stroke="#0F172A"
      stroke-width="1.5"
    />
  
    <path d="M12 15.5V11.5" stroke="#0F172A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
    
    <circle cx="12" cy="9" r="0.5" stroke="#0F172A" stroke-linecap="round" stroke-linejoin="round" />
  </svg>
  `},F=document.querySelector('link[rel="shortcut icon"]'),S=document.querySelector("html"),g=document.querySelector(".theme-button");let d=localStorage.getItem("theme");function L(){return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}F.href=w.favicon[L()];d==="light"||d==="dark"?(S.classList.add(d),g.innerHTML=w[d]):(d="auto",localStorage.setItem("theme",d),g.innerHTML=w[L()]);const H=()=>{d==="light"||d==="dark"?(S.classList.remove(d),d="auto",localStorage.setItem("theme",d),g.innerHTML=w[L()]):(L()==="light"?d="dark":d="light",localStorage.setItem("theme",d),S.classList.add(d),g.innerHTML=w[d])};g.addEventListener("click",H);const W=()=>{const e=document.querySelector(".hourly-weather-forecast-section");for(let r=0;r<5;r++){const a=document.createElement("div");a.classList.add("hourly-weather-forecast-card");const s=document.createElement("div");s.classList.add("hourly-weather-forecast-date-time");const t=document.createElement("div");t.classList.add("hourly-weather-forecast-date","loading","dynamic-data"),t.innerHTML="&nbsp;";const o=document.createElement("div");o.classList.add("hourly-weather-forecast-time","loading","dynamic-data"),o.innerHTML="&nbsp;";const c=document.createElement("div");c.classList.add("hourly-weather-forecast-temperature","loading","dynamic-data"),c.innerHTML="&emsp;&emsp;",s.appendChild(t),s.appendChild(o),a.appendChild(s),a.appendChild(c),e.appendChild(a)}},A=()=>{const e=document.querySelector(".daily-forecast-section");for(let r=0;r<40;r++){const a=document.createElement("div");a.classList.add("daily-weather-forecast-card");const s=document.createElement("div");s.classList.add("daily-weather-forecast-date-time");const t=document.createElement("div");t.classList.add("daily-weather-forecast-date","loading","dynamic-data"),t.innerHTML="&nbsp;";const o=document.createElement("div");o.classList.add("daily-weather-forecast-time","loading","dynamic-data"),o.innerHTML="&nbsp;";const c=document.createElement("img");c.classList.add("daily-weather-forecast-icon","loading","dynamic-data");const n=document.createElement("div");n.classList.add("daily-forecast-weather-details");const l=document.createElement("div");l.classList.add("daily-weather-forecast-temperature","loading","dynamic-data"),l.innerHTML="&emsp;&emsp;";const m=document.createElement("div");m.classList.add("daily-weather-forecast-description","loading","dynamic-data"),m.innerHTML="&emsp;&emsp;",s.appendChild(t),s.appendChild(o),a.appendChild(s),a.appendChild(c),n.appendChild(l),n.appendChild(m),a.appendChild(n),e.appendChild(a)}},D=async()=>{const e=document.querySelectorAll(".dynamic-data");document.querySelector(".search-box-input").blur();for(let a=0;a<e.length;a++)e[a].classList.add("loading")},b=async()=>{const e=document.querySelectorAll(".dynamic-data");for(let r=0;r<e.length;r++)e[r].classList.remove("loading")},C=async(e,r)=>{const a=document.querySelector("body"),s=document.createElement("div"),t=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div");s.classList.add("alert"),t.classList.add("alert-icon"),t.innerHTML=w.alert,o.classList.add("alert-message"),o.innerHTML=e,c.classList.add("alert-button"),c.innerHTML=r,s.appendChild(t),s.appendChild(o),s.appendChild(c),a.insertBefore(s,a.children[1]),b(),r==="Refresh Page"?c.addEventListener("click",()=>{location.reload()}):c.addEventListener("click",()=>{const n=document.querySelector(".search-box-input");n.value="",n.focus(),s.remove()})},M=async e=>Math.round(e*10)/10%1===0?`${(Math.round(e*10)/10).toFixed(1)}°C`:`${Math.round(e*10)/10}°C`,p=async(e,r)=>{const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=new Date(e*1e3),n=c.getDate(),l=c.getMonth(),m=c.getDay(),u=c.getHours().toString().padStart(2,"0"),f=c.getMinutes().toString().padStart(2,"0"),h=`${n} ${s[l]} ${a[m]}`,i=`${n} ${o[l]} ${t[m]}`;return r==="day"?a[m]:r==="hour"?`${u}:${f}`:r==="short"?i:h},$=async e=>`${Math.round(e*3.6)} km/h`,x=async e=>`${e/1e3} km`,I=async e=>e.replace(/\b\w/g,r=>r.toUpperCase()),P=async(e,r)=>{const a=document.querySelector(".current-weather-icon"),s=document.querySelector(".current-weather-temperature"),t=document.querySelector(".current-weather-description"),o=document.querySelector(".current-location"),c=document.querySelector(".current-date"),n=document.querySelector(".wind-speed-value"),l=document.querySelector(".pressure-value"),m=document.querySelector(".sunrise-value"),u=document.querySelector(".humidity-value"),f=document.querySelector(".visibility-value"),h=document.querySelector(".sunset-value");let i;e.lat&&e.lon?i=`https://api.openweathermap.org/data/2.5/weather?lat=${e.lat}&lon=${e.lon}&appid=${r}&units=metric`:i=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${r}&units=metric`;const v=await fetch(i);if(!v.ok)throw v.status===404?new Error(`Sorry, we couldn't find ${e}. Please double-check the spelling and try again.`):new Error("Oops! We're having trouble getting the latest weather information right now. Please try again later or contact support if the problem persists.");const y=await v.json();a.src=`src/img/animated/${y.weather[0].icon}.svg`,s.innerHTML=await M(y.main.temp),t.innerHTML=await I(y.weather[0].description),o.innerHTML=y.name,c.innerHTML=await p(y.dt),n.innerHTML=await $(y.wind.speed),l.innerHTML=`${y.main.pressure} hPa`,m.innerHTML=await p(y.sys.sunrise,"hour"),u.innerHTML=`${y.main.humidity}%`,f.innerHTML=await x(y.visibility),h.innerHTML=await p(y.sys.sunset,"hour")},O=async e=>{const r=document.querySelector(".filter-container"),a=new Set(["All Days"]),s=document.querySelector("body");r&&r.remove();for(let n=0;n<e.list.length;n++)a.add(await p(e.list[n].dt,"short"));const t=document.createElement("div");t.classList.add("filter-container"),s.insertBefore(t,s.children[4]),t.addEventListener("wheel",n=>{n.preventDefault(),t.scrollLeft+=n.deltaY*2}),a.forEach(async n=>{const l=document.createElement("div");l.classList.add("filter-item"),n==="All Days"&&l.classList.add("active"),l.innerHTML=n,t.appendChild(l)});const o=document.querySelectorAll(".filter-item");document.querySelectorAll(".daily-weather-forecast-date").forEach(async n=>{n.parentElement.parentElement.style.display="flex"}),o.forEach(async n=>{n.addEventListener("click",async()=>{const l=document.querySelectorAll(".daily-weather-forecast-date");document.querySelectorAll(".filter-item").forEach(async u=>{u.classList.remove("active")}),l.forEach(async u=>{u.parentElement.parentElement.style.display="flex",n.innerHTML==="All Days"?(u.parentElement.parentElement.style.display="flex",n.classList.add("active")):u.innerHTML!==n.innerHTML&&(u.parentElement.parentElement.style.display="none",n.classList.add("active"))})})})},B=async(e,r)=>{const a=document.querySelectorAll(".hourly-weather-forecast-date"),s=document.querySelectorAll(".hourly-weather-forecast-time"),t=document.querySelectorAll(".hourly-weather-forecast-temperature"),o=document.querySelectorAll(".daily-weather-forecast-date"),c=document.querySelectorAll(".daily-weather-forecast-time"),n=document.querySelectorAll(".daily-weather-forecast-icon"),l=document.querySelectorAll(".daily-weather-forecast-temperature"),m=document.querySelectorAll(".daily-weather-forecast-description");let u;e.lat&&e.lon?u=`https://api.openweathermap.org/data/2.5/forecast?lat=${e.lat}&lon=${e.lon}&appid=${r}&units=metric`:u=`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=${r}&units=metric`;const f=await fetch(u);if(!f.ok)throw f.status===404?new Error(`Sorry, we couldn't find ${e}. Please double-check the spelling and try again.`):new Error("Oops! We're having trouble getting the latest weather information right now. Please try again later or contact support if the problem persists.");const h=await f.json();await O(h);for(let i=0;i<5;i++)a[i].innerHTML=await p(h.list[i].dt,"day"),s[i].innerHTML=await p(h.list[i].dt,"hour"),t[i].innerHTML=await M(h.list[i].main.temp);for(let i=0;i<40;i++)o[i].innerHTML=await p(h.list[i].dt,"short"),c[i].innerHTML=await p(h.list[i].dt,"hour"),n[i].src=`src/img/static/${h.list[i].weather[0].icon}.svg`,l[i].innerHTML=await M(h.list[i].main.temp),m[i].innerHTML=h.list[i].weather[0].main},E="7a6c6cdf649c2999ca104e222bac785c",k=document.querySelector(".search-box-input"),V=document.querySelector(".gps-button"),j=document.querySelector(".cta-button"),J=document.querySelector(".top-button");W();A();const T=async e=>{try{await D(),await P(e,E),await B(e,E),await b()}catch(r){r.message==="Failed to fetch"?await C("Uh oh! It looks like you're not connected to the internet. Please check your connection and try again.","Refresh Page"):await C(r.message,"Try Again")}},q=async()=>{const e=async a=>{const s={lat:a.coords.latitude,lon:a.coords.longitude};await T(s)},r=a=>{console.log(a),T("Istanbul")};navigator.geolocation.getCurrentPosition(e,r)},N=()=>{window.scrollTo({top:0,behavior:"smooth"})};k.addEventListener("keyup",async e=>{e.keyCode===13&&await T(k.value)});V.addEventListener("click",q);j.addEventListener("click",()=>{window.open("https://github.com/YashNuhash/")});J.addEventListener("click",N);q();
